<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      //最原始
      //   var array = [1, 1, "1", "1"];

      //   function unique(array) {
      //     // res用来存储结果
      //     var res = [];
      //     for (var i = 0, arrayLen = array.length; i < arrayLen; i++) {
      //       for (var j = 0, resLen = res.length; j < resLen; j++) {
      //         if (array[i] === res[j]) {
      //           break;
      //         }
      //       }
      //       // 如果array[i]是唯一的，那么执行完循环，j等于resLen
      //       if (j === resLen) {
      //         res.push(array[i]);
      //       }
      //     }
      //     return res;
      //   }
      var array = ["1", "2", "2", "1", "1", "3"];
      function unique(array, isSorted, iteratee) {
        let res = [];
        let seen = [];

        for (let i = 0, len = sortArray.length; i < len; i++) {
          let current = array[i];
          if (isSorted) {
            let sortArray = array.concat().sort();

            if (!i || seen !== sortArray[i]) {
              res.push(sortArray[i]);
            }
            seen = sortArray[i];
          } else {
            if (res.indexOf(current) === -1) {
              res.push(array[i]);
            }
          }
          return res;
        }
      }

      function unique1(array, isSorted) {
        if (!isSorted) {
          let res = array.filter((item, index, array) => {
            return array.indexOf(item) === index;
          });
          return res;
        } else {
          return array
            .concat()
            .sort()
            .filter((item, index, array) => {
              return !index || item !== array[index - 1];
            });
        }
      }

      //   console.log(unique(array)); // [1, "1"]

      //indexOf
      //   var array = [1, 1, "1", "1"];

      //   function unique(array) {
      //     var res = [];
      //     for (var i = 0, len = array.length; i < len; i++) {
      //       var current = array[i];
      //       if (res.indexOf(current) === -1) {
      //         res.push(current);
      //       }
      //     }
      //     return res;
      //   }

      //   console.log(unique(array));

      //排序后去重
      //   var array = [1, 3, 2, 6, 1, "1"];

      //   function unique(array) {
      //     var res = [];
      //     var sortedArray = array.concat().sort();
      //     var seen;
      //     for (var i = 0, len = sortedArray.length; i < len; i++) {
      //       // 如果是第一个元素或者相邻的元素不相同
      //       //!i：i为0时直接赋值
      //       if (!i || seen !== sortedArray[i]) {
      //         res.push(sortedArray[i]);
      //       }
      //       seen = sortedArray[i];
      //     }
      //     return res;
      //   }

      //   console.log(unique(array));

      //   var array1 = [1, 2, "1", 2, 1];
      //   var array2 = [1, 1, "1", 2, 2];

      //   // 第一版
      //   function unique(array, isSorted) {
      //     var res = [];
      //     var seen = [];

      //     for (var i = 0, len = array.length; i < len; i++) {
      //       var value = array[i];
      //       if (isSorted) {
      //         if (!i || seen !== value) {
      //           res.push(value);
      //         }
      //         seen = value;
      //       } else if (res.indexOf(value) === -1) {
      //         res.push(value);
      //       }
      //     }
      //     return res;
      //   }

      //   console.log(unique(array1)); // [1, 2, "1"]
      //   console.log(unique(array2, true)); // [1, "1", 2]

      //   var array3 = [1, 1, "a", "A", 2, 2];

      //   // 第二版
      //   // iteratee 英文释义：迭代 重复
      //   function unique(array, isSorted, iteratee) {
      //     var res = [];
      //     var seen = [];

      //     for (var i = 0, len = array.length; i < len; i++) {
      //       var value = array[i];
      //       var computed = iteratee ? iteratee(value, i, array) : value;
      //       if (isSorted) {
      //         if (!i || seen !== computed) {
      //           res.push(value);
      //         }
      //         seen = computed;
      //       } else if (iteratee) {
      //         if (seen.indexOf(computed) === -1) {
      //           seen.push(computed);
      //           res.push(value);
      //         }
      //       } else if (res.indexOf(value) === -1) {
      //         res.push(value);
      //       }
      //     }
      //     return res;
      //   }

      //   console.log(
      //     unique(array3, false, function (item) {
      //       return typeof item == "string" ? item.toLowerCase() : item;
      //     })
      //   ); // [1, "a", 2]

      //filter
      //   var array = [1, 2, 1, 1, "1"];

      //   function unique(array) {
      //     var res = array.filter(function (item, index, array) {
      //       //第一个下标和当前下标做对比
      //       return array.indexOf(item) === index;
      //     });
      //     return res;
      //   }

      //   console.log(unique(array));

      //排序去重
      //   var array = [1, 2, 1, 1, "1"];

      //   function unique(array) {
      //     return array
      //       .concat()
      //       .sort()
      //       .filter(function (item, index, array) {
      //         return !index || item !== array[index - 1];
      //       });
      //   }

      //   console.log(unique(array));

      //ES6
      //   var array = [1, 2, 1, 1, "1"];

      //   //   function unique(array) {
      //   //     //   return Array.from(new Set(array));
      //   //     return [...new Set(array)];
      //   //   }
      //   var unique = (a) => [...new Set(a)];

      //   console.log(unique(array)); // [1, 2, "1"]

      //使用Map
      //   function unique(arr) {
      //     const seen = new Map();
      //     return arr.filter((a) => !seen.has(a) && seen.set(a, 1));
      //   }
    </script>
  </body>
</html>
