<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      //   async function test() {
      //     return "this is async";
      //   }
      //   const res = test();
      //   console.log(res);

      //   async function fn() {
      //     try {
      //       let res = await ajax();
      //       console.log(res);
      //     } catch (err) {
      //       console.log(err);
      //     }
      //   }

      function analogAsync(n) {
        return new Promise((resolve) => {
          setTimeout(() => resolve(n + 500), n);
        });
      }

      function fn1(n) {
        console.log(`step1 with ${n}`);
        return analogAsync(n);
      }

      function fn2(n) {
        console.log(`step2 with ${n}`);
        return analogAsync(n);
      }

      function fn3(n) {
        console.log(`step3 with ${n}`);
        return analogAsync(n);
      }

      //promise
      function fn() {
        let time1 = 0;
        fn1(time1)
          .then((time2) => fn2(time2))
          .then((time3) => fn3(time3))
          .then((res) => {
            console.log(`result is ${res}`);
          });
      }

      //Async/await
      async function fn() {
        let time1 = 0;
        let time2 = await fn1(tiem1);
        let time3 = await fn2(time2);
        let res = await fn3(time3);
        console.log(`result is ${res}`);
      }
    </script>
  </body>
</html>
